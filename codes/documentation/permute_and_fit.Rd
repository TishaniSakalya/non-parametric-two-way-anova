% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/permute_and_fit.R
\name{permute_and_fit}
\alias{permute_and_fit}
\title{Permute Data and Fit Linear Model}
\usage{
permute_and_fit(data, type, B)
}
\arguments{
\item{data}{A data.table containing the columns `A`, `B`, and `Y`.}

\item{type}{A character string specifying the type of permutation:
\itemize{
  \item `"main_A"`: Permutes column `A`.
  \item `"main_B"`: Permutes column `B`.
  \item `"interaction"`: Permutes column `Y`.
}}

\item{B}{An integer specifying the number of permutations to perform.}
}
\value{
A list of length `B`, where each element is a list containing:
  \itemize{
    \item `eta_A`: Eta-squared value for `A`.
    \item `eta_B`: Eta-squared value for `B`.
    \item `eta_interaction`: Eta-squared value for the interaction effect (`A * B`).
  }
}
\description{
This function repeatedly permutes a dataset, fits a linear model (`lm`), 
and calculates eta-squared values for the main effects and interaction term.
}
\details{
The function uses the `permute_data()` function to shuffle the specified column
  and then fits a linear model (`lm(Y ~ A * B)`) to the permuted data. The 
  `calculate_eta_squared()` function is used to extract the eta-squared values 
  from the model fit.
}
\examples{
# Sample data.table
data <- data.table(A = factor(c('low', 'medium', 'high', 'low', 'high')),
                   B = factor(c('red', 'blue', 'red', 'blue', 'red')),
                   Y = c(10, 20, 30, 40, 50))

# Perform 100 permutations and fit models
results <- permute_and_fit(data, type = "main_A", B = 100)

}
